<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Inferential Â· PosDefManifoldML</title><meta name="title" content="Inferential Â· PosDefManifoldML"/><meta property="og:title" content="Inferential Â· PosDefManifoldML"/><meta property="twitter:title" content="Inferential Â· PosDefManifoldML"/><meta name="description" content="Documentation for PosDefManifoldML."/><meta property="og:description" content="Documentation for PosDefManifoldML."/><meta property="twitter:description" content="Documentation for PosDefManifoldML."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="PosDefManifoldML logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PosDefManifoldML</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">PosDefManifoldML Documentation</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../MainModule/">Main Module</a></li><li><a class="tocitem" href="../tools/">Tools</a></li><li><span class="tocitem">ML Models: PD Manifold</span><ul><li><a class="tocitem" href="../mdm/">Minimum Distance to Mean</a></li></ul></li><li><span class="tocitem">ML Models: PD Tangent Space</span><ul><li><a class="tocitem" href="../enlr/">Elastic-Net Logistic Regression</a></li><li><a class="tocitem" href="../svm/">Support-Vector Machine</a></li></ul></li><li><a class="tocitem" href="../cv/">Fit, Predict, CV</a></li><li><span class="tocitem">Statistics</span><ul><li><a class="tocitem" href="../stats_descriptive/">Descriptive</a></li><li class="is-active"><a class="tocitem" href>Inferential</a><ul class="internal"><li><a class="tocitem" href="#Content"><span>Content</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../conditioners/">Conditioners &amp; Pipelines</a></li><li><a class="tocitem" href="../contribute/">How to contribute</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Statistics</a></li><li class="is-active"><a href>Inferential</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Inferential</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="..." title="View the repository"><span class="docs-icon fa-brands">ï¡</span><span class="docs-label is-hidden-touch">Repository</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="stats_inferential.jl"><a class="docs-heading-anchor" href="#stats_inferential.jl">stats_inferential.jl</a><a id="stats_inferential.jl-1"></a><a class="docs-heading-anchor-permalink" href="#stats_inferential.jl" title="Permalink"></a></h1><p>This unit implements <strong>inferential statistics</strong> (hypothesis tests) for cross-validation analysis.</p><h2 id="Content"><a class="docs-heading-anchor" href="#Content">Content</a><a id="Content-1"></a><a class="docs-heading-anchor-permalink" href="#Content" title="Permalink"></a></h2><table><tr><th style="text-align: left">function</th><th style="text-align: left">description</th></tr><tr><td style="text-align: left"><a href="#PosDefManifoldML.testCV"><code>testCV</code></a></td><td style="text-align: left">Test the average error loss observed in a cross-validation against an expected (chance) level</td></tr><tr><td style="text-align: left"><a href="#PosDefManifoldML.testCV"><code>testCV</code></a></td><td style="text-align: left">Test the average error loss observed in two cross-validation obtained by two different models and/or processing pipelines on the same data</td></tr></table><p><strong>See also</strong> <a href="../stats_descriptive/#stats_descriptive.jl">stats_descriptive.jl</a></p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PosDefManifoldML.testCV" href="#PosDefManifoldML.testCV"><code>PosDefManifoldML.testCV</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">(1) function testCV(cv:CVresult, 
			expected::Union{Float64, Symbol} = :randomchance)

(2) function testCV(ğ‚::Vector{Vector{Int}}; 
			expected::Union{Float64, Symbol} = :randomchance)
</code></pre><p>(1) Given a <a href="../cv/#PosDefManifoldML.CVres"><code>CVres</code></a> stucture (which is of type <code>CVresult</code>) obtained calling the <a href="../cv/#PosDefManifoldML.crval"><code>crval</code></a> method,  performs Bayles&#39;s test (Bayles et <em>al.</em>, 2020<a href="../">ğŸ“</a>)  on the difference in distribution of the average binary error losses obtained in the  cross-validation as compared to a given <code>expected</code> average error loss.  This can be used to test whether the performance obtained in the cross-validation is superior to a specified chance level.</p><p>(2) As method (1) but giving as first argument a vector of <code>f</code> confusion matrices,  The format of the confusion matrices (<code>Vector{Vector{Int}}</code>) is the same  used to store the confusion matrices in a <a href="../cv/#PosDefManifoldML.CVres"><code>CVres</code></a> stucture.</p><p>The test is always directional. Denoting <span>$Î¼$</span> the average loss and <span>$E$</span> the expected average, the test if performed according to null hypethesis <span>$H_0: Î¼1 = E$</span> against alternative <span>$Î¼ &lt; E$</span>; if the test is significant, the error loss is statistically inferior to the specified expected level, which means that the  observed accuracy is statistically <strong>superior</strong> to the expected accuracy.</p><p>By default, <code>expected</code> is set to <span>$1-\frac{1}{z}$</span>, where <span>$z$</span> is the number of classes. You can pass another value, which must be a real number.</p><p>Return the 3-tuple (<em>z, p, ase</em>) holding, the <span>$z$</span> test-statistic (a standard deviate),  the <span>$p$</span>-value and the asymptotic standard error.</p><div class="admonition is-warning" id="Class-Inbalance-2ac6701b5606d2a"><header class="admonition-header">Class Inbalance<a class="admonition-anchor" href="#Class-Inbalance-2ac6701b5606d2a" title="Permalink"></a></header><div class="admonition-body"><p>The error lost reflects the accuracy, not the balance accuracy. If the class are inbalanced, the test will be driven by the majority classes. See also the documentation on <a href="../cv/#PosDefManifoldML.crval"><code>crval</code></a>.</p></div></div><p><strong>Examples</strong>:</p><pre><code class="language-julia hljs">using PosDefManifoldML

# Generate a set of random data
P, _dummyP, y, _dummyy = gen2ClassData(10, 60, 80, 30, 40, 0.1)

# Perform a cross-validation
cv = crval(MDM(Fisher), P, y; scoring=:a)

# The `z` and `p` values are printed out as they are computed automatically
# and stored in the created structure. To compute it yourself:

z, p, ase = testCV(cv)
</code></pre></div></section><section><div><pre><code class="language-julia hljs">(1) function testCV(cv1::CVresult, cv2::CVresult; 
               	direction = PermutationTests.Both())

(2) function testCV(ğâ‚::Vector{BitVector}, ğâ‚‚::Vector{BitVector}; 
               	direction = PermutationTests.Both())
</code></pre><p>(1) Given two <a href="../cv/#PosDefManifoldML.CVres"><code>CVres</code></a> stuctures <code>cv1</code> and <code>cv2</code>, which can be obtaoined  calling the <a href="../cv/#PosDefManifoldML.crval"><code>crval</code></a> method, performs Bayles&#39;s test (Bayles et <em>al.</em>, 2020<a href="../">ğŸ“</a>) on the difference in distribution  of the average binary error losses obtained in cross-validations <code>cv1</code> and <code>cv2</code>.  This can be used to compare the performance obtained by different machine learning models and/or different pre-processing, processing or pre-conditoning pipelines on the same data. </p><div class="admonition is-warning" id="Be-careful-e5ee904b40a52928"><header class="admonition-header">Be careful<a class="admonition-anchor" href="#Be-careful-e5ee904b40a52928" title="Permalink"></a></header><div class="admonition-body"><p>When you compare two models and/or pipelines with cross-validation,  do not use keyword argument <code>shuffle=true</code> in <a href="../cv/#PosDefManifoldML.crval"><code>crval</code></a>, as in this case  the actual data composing the folds would not be identical. Also, is you use the <code>seed</code> keyword argument, make sure the same seed is employed for the two cross-validations.</p></div></div><p>(2) The function also accepts as argument the error losses directly,  denoted <code>ğâ‚</code> and <code>ğâ‚‚</code> in method (2) here above.  In this case ğâ‚ and ğâ‚‚ are vectors holding the  vectors of error losses obtained at each fold.  The format is the same used to store the error losses in  a <a href="../cv/#PosDefManifoldML.CVres"><code>CVres</code></a> stucture.</p><p>Denoting <span>$Î¼_1$</span> and <span>$Î¼_2$</span> the average loss for <code>cv1</code> and <code>cv2</code> (or <code>ğâ‚</code> and <code>ğâ‚‚</code>),  respectively, the <code>direction</code> keyword argument determines the test directionality:</p><ul><li><span>$H_1: Î¼_1 &gt; Î¼_2$</span> (use <code>direction=PermutationTests.Right()</code>)</li><li><span>$H_1: Î¼_1 &lt; Î¼_2$</span> (use <code>direction=PermutationTests.Left()</code>)</li><li><span>$H_1: Î¼_1 &lt;&gt; Î¼_2$</span> (use <code>direction=PermutationTests.Both()</code>, the default)</li></ul><p>In al cases <span>$H_0: Î¼_1 = Î¼_2$</span>.</p><div class="admonition is-success" id="Test-direction-in-terms-of-accuracy-76e18621dda2dc4c"><header class="admonition-header">Test direction in terms of accuracy<a class="admonition-anchor" href="#Test-direction-in-terms-of-accuracy-76e18621dda2dc4c" title="Permalink"></a></header><div class="admonition-body"><p>Note that if the test is significant with <code>direction=PermutationTests.Right()</code>, the  error loss of <code>cv1</code>(or <code>ğâ‚</code>) is statistically superior to the error loss of <code>cv2</code>(or <code>ğâ‚‚</code>), which means that the accuracy in <code>cv1</code>(or <code>ğâ‚</code>) is statistically <strong>inferior</strong> to the accuracy  in <code>cv2</code>(or <code>ğâ‚‚</code>).</p></div></div><p>Return the 3-tuple (<em>z, p, ase</em>) holding, the <span>$z$</span> test-statistic (a standard deviate),  the <span>$p$</span>-value and the asymptotic standard error.</p><div class="admonition is-warning" id="Class-Inbalance-2ac6701b5606d2a"><header class="admonition-header">Class Inbalance<a class="admonition-anchor" href="#Class-Inbalance-2ac6701b5606d2a" title="Permalink"></a></header><div class="admonition-body"><p>The error lost reflects the accuracy, not the balance accuracy. If the class are inbalanced, the test will be driven by the majority classes. See also the documentation on <a href="../cv/#PosDefManifoldML.crval"><code>crval</code></a>.</p></div></div><p><strong>Examples</strong>:</p><pre><code class="language-julia hljs">using PosDefManifoldML

## Test the performance of the same model and pipeline on different data:

# Generate two sets of random data with the same distribution
P1, _dummyP, y1, _dummyy = gen2ClassData(10, 60, 80, 30, 40, 0.01)
P2, _dummyP, y2, _dummyy = gen2ClassData(10, 60, 80, 30, 40, 0.01)

# Perform a cross-validation on the two sets of data
cv1 = crval(MDM(Fisher), P1, y1; scoring=:a)
cv2 = crval(MDM(Fisher), P2, y2; scoring=:a)

z, p, ase = testCV(cv1, cv2) # two-sided test

# This is equivalent to
z, p, ase = testCV(cv1.losses, cv2.losses)

## Test the performance of, for example, different metrics on the same data:

# Generate two sets of random data with the same distribution
P, _dummyP, y, _dummyy = gen2ClassData(10, 40, 40, 30, 40, 0.15)

cv1 = crval(MDM(logEuclidean), P, y; scoring=:a)
cv2 = crval(MDM(Wasserstein), P, y; scoring=:a)

z, p, ase = testCV(cv1, cv2) # two-sided test
</code></pre></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../stats_descriptive/">Â« Descriptive</a><a class="docs-footer-nextpage" href="../conditioners/">Conditioners &amp; Pipelines Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Thursday 12 June 2025 15:00">Thursday 12 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
